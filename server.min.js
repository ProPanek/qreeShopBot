!function(n){var e={};function t(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return n[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=n,t.c=e,t.d=function(n,e,o){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:o})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)t.d(o,r,function(e){return n[e]}.bind(null,r));return o},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=4)}([function(n,e){n.exports=require("dotenv")},function(n,e){n.exports=require("discord.js")},function(n,e){n.exports=require("qrcode-generator")},function(n,e){n.exports=require("pg")},function(n,e,t){"use strict";t.r(e);var o=t(1),r=t.n(o),c=t(2),l=t.n(c);t(0).config();const{Client:a}=t(3);t(0).config(),async function(){try{await async function(){try{const n=await new a({connectionString:process.env.DATABASE_URL});await n.connect(),await n.query("CREATE TABLE IF NOT EXISTS qre_items(id SERIAL PRIMARY KEY, qr_data text not null, qr_link varchar not null, name varchar not null, region varchar not null)"),n.end()}catch(n){console.log(n)}}(),console.log("DB -> init DB")}catch(n){console.log(n)}}();const i=new r.a.Client;let u=process.env.BOT_DEFAULT_INVOKE;i.on("ready",()=>{}),i.on("message",n=>{n.author!==i.user&&n.content.startsWith(`${u}`)&&function(n){let e=n.content.substr(5),t=e.split(" "),o=e.match(/(http|ftp|https):\/\/([\w_-]+(?:(?:\.[\w_-]+)+))([\w.,@?^=%&:\/~+#-]*[\w@?^=%&\/~+#-])?|\w+|"(?:\\"|[^"])+"|\'(?:\\'|[^'])+'/g),r=o[0];console.log(o),""===r&&n.channel.send(`You need to specify which command you want to use type "${u} help" to display available commands`);"help"===r&&n.channel.send("```Help page: \n\n COMMANDS: \n\n upload - \n search - ```");"upload"===r&&function(n,e){let t;if(n.length>5)return e.channel.send("Too much arguments for upload command");t=n[1].match(/\b(\w*dropbox\w*)\b/g)&&"0"===n[1].slice(-1)?function(n){let e=n;return(e=e.split("/"))[5]="?dl=1",e=e.join("/")}(n[1]):n[1];if(console.log(t),!t.match(/(http|ftp|https):\/\/([\w_-]+(?:(?:\.[\w_-]+)+))([\w.,@?^=%&:\/~+#-]*[\w@?^=%&\/~+#-])?/g))return e.channel.send("Specify a valid url");{let o=l()(0,"M");o.addData(`${t}`),o.make(),console.log(o.createASCII()),e.channel.send("```"+o.createASCII()+"\n\nName: "+n[2]+"\nRegion: "+n[3]+"\nSize: "+n[4]+"```")}}(o,n);console.log("Full command: "+e),console.log("Command received: "+r),console.log("split command: "+t),console.log("Arguments: "+arguments)}(n)}),i.login(process.env.BOT_TOKEN)}]);